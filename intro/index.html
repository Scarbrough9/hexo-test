<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="X-UA-Compatible" content="ie=edge"><title>Introduction | Scarbrough</title><meta name="description" content="Introduction to this sample project about creating page transition animations using the browser&apos;s history API"><meta property="og:type" content="website"><meta property="og:title" content="Introduction"><meta property="og:url" content="https://scarbrough9.github.io/hexo-sample/intro/index.html"><meta property="og:site_name" content="Scarbrough"><meta property="og:description" content="Introduction to this sample project about creating page transition animations using the browser&apos;s history API"><meta property="og:updated_time" content="2016-08-09T12:48:31.000Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Introduction"><meta name="twitter:description" content="Introduction to this sample project about creating page transition animations using the browser&apos;s history API"><link rel="stylesheet" href="https:/scarbrough9.github.io/hexo-sample/styles/carbon_styles.css"></head><body><div class="site"><header class="site-header"><h3>Header</h3><nav><ul class="menu"><li class="menu-item"><a class="menu-link" data-type="page-transition" href="https:/scarbrough9.github.io/hexo-sample/">Home</a></li><li class="menu-item"><a class="menu-link" data-type="page-transition" href="https:/scarbrough9.github.io/hexo-sample/about">About</a></li><li class="menu-item"><a class="menu-link" data-type="page-transition" href="https:/scarbrough9.github.io/hexo-sample/intro">Intro</a></li></ul></nav></header><div class="page-transition-wrapper"><div class="page-transition-screen"></div><main><h1>Introduction</h1><h3 id="Creating-page-transitions-with-pushState-and-popstate"><a href="#Creating-page-transitions-with-pushState-and-popstate" class="headerlink" title="Creating page transitions with pushState and popstate"></a>Creating page transitions with pushState and popstate</h3><p>We are always looking for ways to make an online experience more interesting. With better browser support for the history API, we can create some very interesting effects related to how page loads that can enhance the user’s experience.</p><p>So, I am sure that many developers have seen examples of this type of effect, but while I looked through these examples, I found myself asking a number of questions regarding practical application. Some of the examples do not properly address the potential usage of the browsers back and forward buttons. Others neglect to address how manipulation of the history API affects analytics tracking.</p><p>With this example, I am going to present a very basic example of the page transition, while spending more time demonstrating and explaining how we can use this type of feature without sacrificing some of the standard requirements that users expect.</p><h3 id="Step-1-Deciding-on-Animations"><a href="#Step-1-Deciding-on-Animations" class="headerlink" title="Step 1: Deciding on Animations"></a>Step 1: Deciding on Animations</h3><p>First, we need to determine how we are going to replace the standard page load. By that, I mean what are we going to animate and how do we plan to animate that content.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* Initial animation */</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">initialPageAnimation</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    $(<span class="string">'body'</span>).addClass(<span class="string">'page-loaded'</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/* Page changing animation (transition begins) */</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">pageChangingAnimation</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    $(<span class="string">'body'</span>).addClass(<span class="string">'page-changing'</span>).removeClass(<span class="string">'page-changed'</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/* Page changed animation (transition ends) */</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">pageChangedAnimation</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    $(<span class="string">'body'</span>).removeClass(<span class="string">'page-changing'</span>).addClass(<span class="string">'page-changed'</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>In this example, we are addressing the three animations that are needed for this example. First, we want to execute an initial animation that occurs on the initial page load. For this we are simply adding a class to denote that the page has loaded.</p><p>Second, we need to execute an animation when a ‘page change’ is triggered. For this, we are simply adding a class titled ‘page-changing’. We also need to remove the ‘page-changed’ class if it exists. Finally, we need to execute an animation signifying that the page change is complete. To do this, we are simply running a function that does the opposite of the page changing animation.</p><div class="grid grid--two"><div class="grid-block"><div class="grid-block__inner">Grid Item</div></div><div class="grid-block"><div class="grid-block__inner">Grid Item</div></div><div class="grid-block"><div class="grid-block__inner">Grid Item</div></div><div class="grid-block"><div class="grid grid--two"><div class="grid-block"><div class="grid-block__inner">Nested Grid Item</div></div><div class="grid-block"><div class="grid-block__inner">Nested Grid Item</div></div></div></div></div><div class="grid grid--three"><div class="grid-block grid-block--red"><div class="grid-block__inner">Grid Item</div></div><div class="grid-block"><div class="grid-block__inner">Grid Item</div></div><div class="grid-block"><div class="grid-block__inner">Grid Item</div></div><div class="grid-block"><div class="grid-block__inner">Grid Item</div></div><div class="grid-block"><div class="grid-block__inner">Grid Item</div></div><div class="grid-block"><div class="grid-block__inner">Grid Item</div></div></div><div class="grid grid--four"><div class="grid-block"><div class="grid-block__inner">Grid Item</div></div><div class="grid-block"><div class="grid-block__inner">Grid Item</div></div><div class="grid-block"><div class="grid-block__inner">Grid Item</div></div><div class="grid-block"><div class="grid-block__inner">Grid Item</div></div><div class="grid-block"><div class="grid-block__inner">Grid Item</div></div><div class="grid-block"><div class="grid-block__inner">Grid Item</div></div><div class="grid-block"><div class="grid-block__inner">Grid Item</div></div><div class="grid-block"><div class="grid-block__inner">Grid Item</div></div></div><div class="grid grid--five"><div class="grid-block"><div class="grid-block__inner">Grid Item</div></div><div class="grid-block"><div class="grid-block__inner">Grid Item</div></div><div class="grid-block"><div class="grid-block__inner">Grid Item</div></div><div class="grid-block"><div class="grid-block__inner">Grid Item</div></div><div class="grid-block"><div class="grid-block__inner">Grid Item</div></div><div class="grid-block"><div class="grid-block__inner">Grid Item</div></div><div class="grid-block"><div class="grid-block__inner">Grid Item</div></div><div class="grid-block"><div class="grid-block__inner">Grid Item</div></div><div class="grid-block"><div class="grid-block__inner">Grid Item</div></div><div class="grid-block"><div class="grid-block__inner">Grid Item</div></div></div></main></div><footer class="site-footer"><h5>Footer</h5></footer><script src="https:/scarbrough9.github.io/hexo-sample/scripts/carbon_scripts.js"></script></div></body></html>